(this.webpackJsonpniftymusic=this.webpackJsonpniftymusic||[]).push([[0],{304:function(e,t,n){},323:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},339:function(e,t){},347:function(e,t){},364:function(e,t){},366:function(e,t){},383:function(e,t){},384:function(e,t){},445:function(e,t){},447:function(e,t){},456:function(e,t){},458:function(e,t){},483:function(e,t){},485:function(e,t){},486:function(e,t){},491:function(e,t){},493:function(e,t){},506:function(e,t){},518:function(e,t){},521:function(e,t){},525:function(e,t){},537:function(e,t){},595:function(e,t){},668:function(e,t){},741:function(e,t){},754:function(e,t,n){},762:function(e,t,n){},763:function(e,t,n){},764:function(e,t,n){},766:function(e,t,n){},767:function(e,t,n){},768:function(e,t,n){},769:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(307),i=n.n(s),r=n(21),o=n(79),l=n(12),d=function(e,t){switch(t.type){case"UPDATE_PROVIDER":return Object(l.a)(Object(l.a)({},e),{},{provider:t.payload});case"UPDATE_SONGS":return Object(l.a)(Object(l.a)({},e),{},{songs:t.payload});case"UPDATE_CURRENT_SONG":return Object(l.a)(Object(l.a)({},e),{},{currentSong:t.payload});case"UPDATE_CURRENT_SONG_ID":return Object(l.a)(Object(l.a)({},e),{},{currentSongID:t.payload});case"UPDATE_PLAYING":return Object(l.a)(Object(l.a)({},e),{},{playing:t.payload});case"ADD_TRACK":return Object(l.a)(Object(l.a)({},e),{},{tracks:[].concat(Object(o.a)(e.tracks),[t.payload])});case"UPDATE_SEARCH_STRING":return Object(l.a)(Object(l.a)({},e),{},{searchString:t.payload});case"UPDATE_GLOBAL_ARTIST_MODAL_DATA":return Object(l.a)(Object(l.a)({},e),{},{globalArtistModalData:t.payload});default:return e}},u=n(0),j={provider:null,songs:null,currentSong:0,currentSongID:null,playing:0,tracks:[],searchString:"",globalArtistModalData:null},b=Object(a.createContext)(j),m=function(e){var t=e.children,n=Object(a.useReducer)(d,j),c=Object(r.a)(n,2),s=c[0],i=c[1];var o={provider:s.provider,setProvider:function(e){i({type:"UPDATE_PROVIDER",payload:e})},songs:s.songs,setSongs:function(e){i({type:"UPDATE_SONGS",payload:e})},currentSong:s.currentSong,setCurrentSong:function(e){i({type:"UPDATE_CURRENT_SONG",payload:e})},currentSongID:s.currentSongID,setCurrentSongID:function(e){i({type:"UPDATE_CURRENT_SONG_ID",payload:e})},playing:s.playing,setPlaying:function(e){i({type:"UPDATE_PLAYING",payload:e})},tracks:s.tracks,addTrack:function(e){i({type:"ADD_TRACK",payload:e})},searchString:s.searchString,setSearchString:function(e){i({type:"UPDATE_SEARCH_STRING",payload:e})},globalArtistModalData:s.globalArtistModalData,setGlobalArtistModalData:function(e){i({type:"UPDATE_GLOBAL_ARTIST_MODAL_DATA",payload:e})}};return Object(u.jsx)(b.Provider,{value:o,children:t})},g=n(115),h=n(116),O=(n(323),n(34)),p=n(78),f=n(25),x=n(174),v=n.n(x),y={format_src:function(e){return"https://ipfs.io/"+e.substring("ipfs://".length)},containsExactObject:function(e,t){var n;for(n=0;n<t.length;n++)if(v.a.isEqual(e,t[n]))return!0;return!1},containsID:function(e,t){var n;for(n=0;n<t.length;n++)if(e===t[n]._id)return!0;return!1},_:v.a},S=n.p+"static/media/back-arrow.2110c78d.svg",_=n.p+"static/media/play.171cccd4.svg",C=n.p+"static/media/pause.62fc3c4c.svg",N=function(e){var t=e.tileHeight,n=e.song,c=e.tilesPerRow,s=void 0===c?2:c,i=e.playlist,o=e.index,l=void 0===o?0:o,d=Object(a.useContext)(b),j=d.setSongs,m=d.setCurrentSong,g=d.setPlaying,h=d.playing,O=d.currentSongID,p=Object(a.useState)(!1),f=Object(r.a)(p,2),x=f[0],v=f[1],y={width:100/s+"%",display:"flex",flexDirection:"row",justifyContent:"flex-start",marginBottom:"1em",alignItems:"center",paddingRight:"2em"};s>2&&(y.flexDirection="column",y.marginBottom="2em",y.alignItems="unset");var S={height:t,width:t,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},N={height:"100%",width:"100%",position:"relative",zIndex:"0",opacity:x?"0.75":"1"},E={height:.25*Number(t.substring(0,t.indexOf("em")))+"em",backgroundColor:"transparent",padding:0,position:"absolute",zIndex:"1",cursor:"pointer"},k={};s>2&&(k.marginBottom="0.5em");var T={marginLeft:"1em"};s>2&&(T.marginLeft=0,T.marginTop="1em");var D=1===h&&O===n._id?C:_;return Object(u.jsxs)("div",{style:y,children:[Object(u.jsxs)("div",{style:S,onClick:function(e){e.stopPropagation(),2===h&&O===n._id?g(1):1===h&&O===n._id?g(2):(g(1),m(l),j(i||[n]))},children:[Object(u.jsx)("img",{style:N,src:n.src,alt:"",onMouseOver:function(){return v(!0)},onMouseLeave:function(){return v(!1)}}),x&&Object(u.jsx)("div",{style:E,onMouseEnter:function(){return v(!0)},children:Object(u.jsx)("img",{style:{height:"100%",width:"auto"},src:D,alt:""})})]}),Object(u.jsxs)("div",{style:T,children:[Object(u.jsx)("p",{style:k,children:n.name}),Object(u.jsx)("p",{style:{color:"#62728E"},children:n.artist})]})]})},E=n(308),k=(n(326),function(e){var t=e.onClose,n=e.metadata,c=e.global,s=void 0!==c&&c,i=Object(a.useContext)(b),o=i.setSongs,d=i.setCurrentSong,j=i.playing,m=i.setPlaying,g=i.currentSongID,h=i.setGlobalArtistModalData,O=Object(a.useState)("auto"),p=Object(r.a)(O,2),f=p[0],x=p[1];Object(a.useEffect)((function(){var e=function(){x(document.getElementById("navbar").offsetHeight)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var v=function(e){2===j&&g===n.songs[e]._id?m(1):1===j&&g===n.songs[e]._id?m(2):(m(1),d(e),o(n.songs))},y={opacity:.5,padding:0,backgroundColor:"transparent"},N=Object(a.useMemo)((function(){for(var e=[],t=function(t){var a=1===j&&g===n.songs[t]._id?C:_;e.push({play:Object(u.jsx)("button",{style:y,onClick:function(){return v(t)},children:Object(u.jsx)("img",{src:a,alt:"",width:"12px"})}),title:n.songs[t].name,artist:n.songs[t].artist,album:n.songs[t].album})},a=0;a<n.songs.length;a++)t(a);return e}),[g,j]),k=Object(a.useMemo)((function(){return[{Header:"",accessor:"play"},{Header:"SONG TITLE",accessor:"title"},{Header:"ARTIST",accessor:"artist"},{Header:"ALBUM",accessor:"album"}]}),[]),T=Object(E.useTable)({columns:k,data:N}),D=T.getTableProps,w=T.getTableBodyProps,P=T.headerGroups,A=T.rows,I=T.prepareRow,M={top:f};return Object(u.jsxs)("div",{className:"modal",style:M,children:[Object(u.jsx)("div",{className:"modal_header",children:Object(u.jsxs)("button",{className:"close_btn",onClick:function(){if(s)return h(null);t()},children:[Object(u.jsx)("img",{src:S,alt:""}),"Back"]})}),Object(u.jsxs)("div",{className:"modal_content",children:[Object(u.jsx)("img",{className:"image",src:n.image,alt:""}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:n.name}),Object(u.jsx)("h3",{children:n.artist}),Object(u.jsxs)("button",{onClick:function(){return v(0)},children:[Object(u.jsx)("img",{src:_,alt:""}),"Play all"]})]}),Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},D()),{},{className:"table",children:[Object(u.jsx)("thead",{children:P.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},w()),{},{children:A.map((function(e){return I(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})]})}),T=function(e){var t=e.tileHeight,n=void 0===t?"14em":t,c=e.data,s=e.globalOpen,i=void 0!==s&&s,o=Object(a.useContext)(b),l=o.setSongs,d=o.setCurrentSong,j=o.setPlaying,m=o.playing,g=o.currentSongID,h=o.setSearchString,p=o.setGlobalArtistModalData,f=Object(a.useState)(!1),x=Object(r.a)(f,2),v=x[0],y=x[1],S=Object(a.useState)(!1),N=Object(r.a)(S,2),E=N[0],T=N[1],D=Object(a.useMemo)((function(){var e,t=!1,n=Object(O.a)(c.songs);try{for(n.s();!(e=n.n()).done;){e.value._id===g&&(t=!0)}}catch(a){n.e(a)}finally{n.f()}return t}),[g]),w={width:n,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginRight:"2em",cursor:"pointer"},P={height:n,width:n,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"0.5em"},A={height:"100%",width:"100%",position:"relative",zIndex:"0",opacity:v?"0.75":"1"},I={height:.25*Number(n.substring(0,n.indexOf("em")))+"em",backgroundColor:"transparent",padding:0,position:"absolute",zIndex:"1",cursor:"pointer"},M=1===m&&D?C:_;return Object(u.jsxs)("div",{style:w,children:[Object(u.jsxs)("div",{style:P,onClick:function(){y(!1),i?(h(""),p(c)):E||T(!0)},children:[Object(u.jsx)("img",{style:A,src:c.image,alt:"",onMouseOver:function(){return y(!0)},onMouseLeave:function(){return y(!1)}}),v&&Object(u.jsx)("div",{style:I,onMouseEnter:function(){return y(!0)},children:Object(u.jsx)("img",{style:{height:"100%",width:"auto"},src:M,alt:"",onClick:function(e){e.stopPropagation(),2===m&&D?j(1):1===m&&D?j(2):(j(1),d(0),l(c.songs))}})}),E&&Object(u.jsx)(k,{onClose:function(){i||E&&T(!1)},metadata:c})]}),Object(u.jsx)("p",{style:{color:"#62728E",textAlign:"center"},children:c.name})]})},D=(n(327),function(e){var t=e.search_string,n=Object(a.useContext)(b),c=n.tracks,s=n.setSearchString,i=Object(a.useState)("auto"),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(a.useMemo)((function(){var e={artists:{},singles:[],podcasts:[]},n=function(e){return e?e=(e=(e=e.replace("-","")).replace(".","")).toUpperCase():e};if(t.length>1){var a,s=n(t),i=Object(O.a)(c);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.artist||(r.artist="Unknown"),n(r.artist).indexOf(s)>-1&&(r.artist in e.artists?y.containsExactObject(r,e.artists[r.artist].songs)||e.artists[r.artist].songs.push(r):e.artists[r.artist]={name:r.artist,image:r.src,songs:[r]});var o=n(r.name);o.indexOf(s)>-1&&"song"===r.type&&e.singles.push(r),o.indexOf(s)>-1&&"podcast"===r.type&&e.podcasts.push(r)}}catch(l){i.e(l)}finally{i.f()}}return e}),[t,c]);Object(a.useEffect)((function(){var e=function(){d(document.getElementById("navbar").offsetHeight)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var m={top:l},g=j.singles.map((function(e){return Object(u.jsx)(N,{tileHeight:"5em",song:e},e._id)})),h=Object.keys(j.artists).map((function(e){return Object(u.jsx)(T,{tileHeight:"10em",data:j.artists[e],globalOpen:!0},e)})),p=j.podcasts.map((function(e){return Object(u.jsx)(N,{tileHeight:"5em",song:e},e._id)}));return Object(u.jsxs)("div",{className:"search_modal",style:m,children:[Object(u.jsx)("div",{className:"search_modal_header",children:Object(u.jsxs)("button",{className:"close_btn",onClick:function(){s("")},children:[Object(u.jsx)("img",{src:S,alt:""}),"Back"]})}),Object(u.jsxs)("div",{className:"search_modal_content",children:[Object(u.jsx)("h3",{children:"Search Results"}),Object(u.jsxs)("div",{className:"singles_grid",children:[j.singles.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Songs"}),g]}),!!Object.keys(j.artists).length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Artists"}),h]}),j.podcasts.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Podcasts"}),p]})]})]})]})}),w=n(309),P=n.n(w),A=n(313),I=n.n(A),M=n(314),R=n.n(M),B=n.p+"static/media/user.126de776.svg",F=n.p+"static/media/times.82a5f87a.svg",L={border:"2px solid #303847",color:"#62728E",padding:"0.45em 1.5em 0.45em 1em",borderRadius:"8px 0 0 8px",marginRight:"-0.5em"},H={backgroundColor:"transparent",color:"#FFFFFF",paddingRight:0},U={paddingRight:"0.5em",height:"1em",width:"auto"},G=function(){var e=Object(a.useContext)(b),t=e.provider,n=e.setProvider,c="Connect Wallet",s="Fetching...",i="Wrong Network",o=Object(a.useState)(c),l=Object(r.a)(o,2),d=l[0],j=l[1],m=Object(a.useState)(s),g=Object(r.a)(m,2),h=g[0],O=g[1],p=Object(a.useState)(null),f=Object(r.a)(p,2),x=f[0],v=f[1],y=Object(a.useState)(!1),S=Object(r.a)(y,2),_=S[0],C=S[1],N={walletconnect:{display:{name:"WalletConnect",description:"Scan the QR code with your mobile wallet to connect."},package:R.a,options:{infuraId:"c91abd5028e84b1c9001abd007b3e258"}}},E=new I.a({network:"mainnet",cacheProvider:!0,providerOptions:N,theme:{background:"rgb(39, 49, 56)",main:"rgb(199, 199, 199)",secondary:"rgb(136, 136, 136)",border:"rgba(195, 195, 195, 0.14)",hover:"rgb(16, 26, 32)"}});Object(a.useEffect)((function(){"injected"===E.cachedProvider&&n(window.ethereum)}),[]);var k=function e(){if(t){var n=new P.a(t),a=function(){_||(C(!0),v(setTimeout((function(){C(!1),e()}),1500)))};"1"===t.networkVersion?n.eth.getAccounts().then((function(e){if(e.length>0){var t=e[0].substr(0,4)+"..."+e[0].substr(e[0].length-4);j(t),n.eth.getBalance(e[0]).then((function(e){var t=Number(n.utils.fromWei(e)).toFixed(3);O(t+" ETH"),a()}),(function(e){console.error(e),O("Failed"),a()}))}else j(c),O(s),a()}),(function(e){console.error(e),a()})):(j(i),O(s),a())}};Object(a.useEffect)((function(){if(null===t)return j(c),O(s);k()}),[t]);var T=d===c,D=d===i,w={backgroundColor:T?"#00C8D4":D?"#FE4141":"#303847",color:T||D?"#FFFFFF":"#62728E",cursor:T?"pointer":"default",borderRadius:"8px"};return Object(u.jsxs)("div",{children:[!T&&!D&&Object(u.jsx)("span",{style:L,children:h}),Object(u.jsxs)("button",{style:w,onClick:function(){d===c&&E.connect().then((function(e){n(e)}),(function(e){console.error(e),E.clearCachedProvider(),v(clearTimeout(x)),C(!1),n(null)}))},children:[!T&&!D&&Object(u.jsx)("img",{style:U,src:B,alt:""}),d]}),!T&&Object(u.jsx)("button",{style:H,onClick:function(){E.clearCachedProvider(),v(clearTimeout(x)),C(!1),n(null)},children:Object(u.jsx)("img",{src:F,alt:""})})]})},z=n.p+"static/media/magnify.3c1c3235.svg",q=(n(754),function(){var e=Object(a.useContext)(b),t=e.searchString,n=e.setSearchString;return Object(u.jsxs)("div",{className:"navbar",id:"navbar",children:[Object(u.jsxs)("div",{className:"search-cont",children:[Object(u.jsx)("img",{src:z,alt:""}),Object(u.jsx)("input",{placeholder:"Search for songs, artists etc.",value:t,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("div",{className:"navbar-right",children:[Object(u.jsx)(p.b,{to:"/musicPass",className:"btn-navbar",children:"Music Pass"}),Object(u.jsx)(G,{})]}),t&&Object(u.jsx)(D,{search_string:t})]})}),W=n.p+"static/media/home.1b76e15b.svg",V=n.p+"static/media/home-focus.ce32ea31.svg",J=n.p+"static/media/explore.ffac5b3c.svg",K=n.p+"static/media/explore-focus.cddb4b9e.svg",Y=n.p+"static/media/podcast.5d382983.svg",Q=n.p+"static/media/podcast-focus.a06cf377.svg",X=n.p+"static/media/library.3f99650c.svg",Z=n.p+"static/media/library-focus.9b10c597.svg",$=(n(304),function(e){var t=Object(f.e)(),n={color:t.pathname===e.location?"#00C8D4":"#62728E",paddingLeft:"5px"},a={Home:t.pathname===e.location?V:W,Explore:t.pathname===e.location?K:J,Podcast:t.pathname===e.location?Q:Y,Library:t.pathname===e.location?Z:X};return Object(u.jsx)(p.b,{to:e.location,style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"sideBtnDiv",children:[Object(u.jsx)("img",{src:a[e.text],alt:""}),Object(u.jsx)("span",{style:n,children:e.text})]})})}),ee=n.p+"static/media/logo.23731195.svg",te=function(){return Object(u.jsxs)("div",{className:"sidebar-wrapper",children:[Object(u.jsx)("img",{className:"logo",src:ee,alt:""}),Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)($,{text:"Home",location:"/"}),Object(u.jsx)($,{text:"Explore",location:"/explore"}),Object(u.jsx)($,{text:"Podcast",location:"/podcast"})]})]})},ne=(n(762),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e={artists:{},singles:[]},n=t.slice(0,8);y._.isEqual(e.singles,n)||(e.singles=n);var a,c=1,s=Object(O.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;(c<=5||i.artist in e.artists)&&"song"===i.type&&(i.artist in e.artists?y.containsExactObject(i,e.artists[i.artist].songs)||e.artists[i.artist].songs.push(i):(e.artists[i.artist]={name:i.artist,image:i.src,songs:[i]},c++))}}catch(r){s.e(r)}finally{s.f()}return e}),[t]),s=Object.keys(c.artists).map((function(e){return Object(u.jsx)(T,{tileHeight:"14em",data:c.artists[e]},e)})),i=c.singles.map((function(e){return Object(u.jsx)(N,{tileHeight:"5em",song:e},e._id)})),r={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"home",style:r,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Recommended Artists"})}),Object(u.jsx)("div",{className:"album_grid",children:s}),Object(u.jsxs)("div",{className:"singles_grid",children:[Object(u.jsx)("h2",{children:"Top Singles"}),i]})]})})}),ae=(n(763),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e,n=[],a=function(e){for(var t,n=Object(o.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var c=[n[t],n[a]];n[a]=c[0],n[t]=c[1]}return n}(t),c=0,s=Object(O.a)(a);try{for(s.s();!(e=s.n()).done;){var i=e.value;"song"===i.type&&(i.index=c,c++,n.push(i))}}catch(r){s.e(r)}finally{s.f()}return n}),[t]),s=c.map((function(e){return Object(u.jsx)(N,{tileHeight:"12em",song:e,tilesPerRow:5,playlist:c,index:e.index},e._id)})),i={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"explore",style:i,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Explore"})}),Object(u.jsx)("div",{className:"explore_grid",children:s})]})})}),ce=(n(764),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e,n=[],a=function(e){for(var t,n=Object(o.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var c=[n[t],n[a]];n[a]=c[0],n[t]=c[1]}return n}(t),c=0,s=Object(O.a)(a);try{for(s.s();!(e=s.n()).done;){var i=e.value;"podcast"===i.type&&(i.index=c,c++,n.push(i))}}catch(r){s.e(r)}finally{s.f()}return n}),[t]),s=c.map((function(e){return Object(u.jsx)(N,{tileHeight:"12em",song:e,tilesPerRow:5,playlist:c,index:e.index},e._id)})),i={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"podcast",style:i,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Podcasts"})}),Object(u.jsx)("div",{className:"podcast_grid",children:s})]})})}),se=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Library"})})},ie=n(99),re=(n(766),n.p+"static/media/forward.34ceb933.svg"),oe=n.p+"static/media/mute.a939919a.svg",le=function(){var e=Object(a.useContext)(b),t=e.songs,n=e.currentSong,c=e.setCurrentSong,s=e.playing,i=e.setPlaying,o=e.setCurrentSongID,d=Object(a.useState)([0]),j=Object(r.a)(d,2),m=j[0],g=j[1],h=Object(a.useState)(!1),O=Object(r.a)(h,2),p=O[0],f=O[1],x=Object(a.useState)(null),v=Object(r.a)(x,2),y=v[0],S=v[1],N=Object(a.useState)(100),E=Object(r.a)(N,2),k=E[0],T=E[1],D=Object(a.useState)(!1),w=Object(r.a)(D,2),P=w[0],A=w[1],I=Object(a.useState)([1]),M=Object(r.a)(I,2),R=M[0],B=M[1],F=document.getElementById("player");Object(a.useEffect)((function(){null!==t&&(S(t[n].song),o(t[n]._id),function(){g([0]);var e=0;document.getElementById("song_source").addEventListener("error",(function t(){e<=4?(e++,F.load()):(e=0,document.getElementById("song_source").removeEventListener("error",t),L())})),F.load(),F.oncanplay=function(){if(A(!0),T(F.duration),F.volume=R[0],F.ontimeupdate=function(){g([F.currentTime])},F.onplay=function(){i(1)},F.onpause=function(){i(2)},F.onended=function(){i(1),L()},1===s&&(F.play(),"mediaSession"in navigator)){navigator.mediaSession.metadata=new window.MediaMetadata({title:t[n].name,artist:t[n].artist,artwork:[{src:t[n].src,type:"image/png"}]});for(var e=0,a=[["previoustrack",function(){H()}],["nexttrack",function(){L()}],["stop",function(){f(!0),F.paused&&i(0)}]];e<a.length;e++){var c=Object(r.a)(a[e],2),o=c[0],l=c[1];try{navigator.mediaSession.setActionHandler(o,l)}catch(d){console.log('The media session action "'.concat(o,'" is not supported yet.'))}}}}}())}),[t,n]),Object(a.useEffect)((function(){p&&1!==s?(i(0),o(null)):1===s&&p?(f(!1),P&&(F.currentTime=0,g([0]),F.paused&&F.play())):1!==s||p?2!==s||p||P&&(F.paused||F.pause()):P&&F.paused&&F.play()}),[s]);var L=function(){var e=n+1;e<t.length?c(e):c(0)},H=function(){var e=n-1;P&&(-1!==e&&F.currentTime<5?c(e):(g([0]),F.currentTime=0))},U=function(e){var t=Math.trunc(e/60),n=Math.trunc(e%60);return n<10&&(n="0"+n),t+":"+n},G={display:0===s?"none":"flex"},z=1===s?C:_;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"play_modal",className:"play_modal",style:G,children:[t&&Object(u.jsxs)("div",{className:"song_data",children:[Object(u.jsx)("img",{src:t[n].src,alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:t[n].name}),Object(u.jsx)("p",{children:t[n].artist})]})]}),Object(u.jsxs)("div",{className:"controls_wrapper",children:[Object(u.jsxs)("div",{className:"main_control",children:[Object(u.jsx)("button",{onClick:H,children:Object(u.jsx)("img",{src:re,alt:""})}),Object(u.jsx)("button",{onClick:function(){P&&(F.paused?F.play():F.pause())},children:Object(u.jsx)("img",{src:z,alt:""})}),Object(u.jsx)("button",{onClick:L,children:Object(u.jsx)("img",{src:re,alt:""})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"time_tracker",children:U(m[0])}),Object(u.jsx)(ie.Range,{values:m,step:.001,min:0,max:k,onChange:function(e){g([e[0]]),P&&(F.currentTime=e[0])},renderTrack:function(e){var t=e.props,n=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,className:"timebar",children:Object(u.jsx)("div",{ref:t.ref,style:{height:"0.25em",width:"100%",borderRadius:"4px",display:"inline-block",background:Object(ie.getTrackBackground)({values:m,colors:["#00C8D4","#0F141D"],min:0,max:k}),alignSelf:"center"},children:n})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(u.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{height:"0.75em",width:"0.75em",borderRadius:"13px",backgroundColor:"#00C8D4",display:"flex",justifyContent:"center",alignItems:"center"})}))}}),Object(u.jsx)("div",{className:"time_tracker",children:U(k)})]})]}),Object(u.jsxs)("div",{className:"volume_control",children:[Object(u.jsx)("button",{className:"mute_button",onClick:function(){P&&(F.muted?B([F.volume]):B([0]),F.muted=!F.muted)},children:Object(u.jsx)("img",{src:oe,alt:""})}),Object(u.jsx)(ie.Range,{values:R,step:.01,min:0,max:1,onChange:function(e){var t=e[0];B([t]),P&&(t>0&&F.muted&&(F.muted=!1),F.volume=t)},renderTrack:function(e){var t=e.props,n=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(l.a)(Object(l.a)({},t.style),{},{height:"0.25em",display:"flex",width:"5em"}),children:Object(u.jsx)("div",{ref:t.ref,style:{height:"0.25em",width:"100%",borderRadius:"4px",background:Object(ie.getTrackBackground)({values:R,colors:["#00C8D4","#0F141D"],min:0,max:1}),alignSelf:"center"},children:n})})},renderThumb:function(e){var t=e.props;return Object(u.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{display:"none"})}))}})]})]}),Object(u.jsx)("video",{style:{display:"none"},id:"player",children:Object(u.jsx)("source",{id:"song_source",src:y,type:"video/mp4"})})]})},de=(n(767),n.p+"static/media/music-pass.61a16a6a.png"),ue=n.p+"static/media/golden-pass.86ef5316.png",je=function(){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)("h1",{children:"Buy Music Pass"}),Object(u.jsx)("h3",{children:"Enjoy free music listening, exclusive content and more."}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"card-container",children:[Object(u.jsx)("img",{className:"music-pass",src:de,alt:""}),Object(u.jsx)("p",{children:"All access pass"}),Object(u.jsx)("p",{className:"small",children:"Recharge your pass as much as you want."}),Object(u.jsx)("h5",{children:"200/200 left"}),Object(u.jsx)("button",{className:"btn-buy",children:"Coming soon"})]}),Object(u.jsxs)("div",{className:"card-container",children:[Object(u.jsx)("img",{className:"golden-pass",src:ue,alt:""}),Object(u.jsx)("p",{children:"Lifetime pass"}),Object(u.jsx)("p",{className:"small",children:"Listen to every song, forever without limits."}),Object(u.jsx)("h5",{children:"50/50 left"}),Object(u.jsx)("button",{className:"btn-buy",children:"Coming soon"})]})]})]})},be=(n(768),function(){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)("h1",{children:"My Music Pass"}),Object(u.jsx)("h3",{children:"Manage and top-up your Music Pass."}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("p",{children:"Balance:"}),Object(u.jsx)("input",{type:"number",placeholder:"Top up amount"}),Object(u.jsx)("button",{className:"btn-buy",children:"TOPUP"}),Object(u.jsx)("button",{className:"btn-buy btn-outline",children:"Buy more ISLA"})]})})]})}),me={width:"100%",height:"100%"},ge={width:"100%",paddingTop:"1em",paddingLeft:"0.75em"},he=function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.addTrack,c=e.globalArtistModalData,s=Object(h.b)({query:"\n      query {\n        tracks {\n            id,\n            artist {\n                name\n            },\n\t\t\talbum,\n            metadata,\n            image,\n            title\n        }\n        podcasts {\n            id,\n            artist,\n            metadata,\n            image,\n            title\n        }\n      }\n    "}),i=Object(r.a)(s,1)[0],o=i.data,l=i.fetching,d=i.error;Object(a.useEffect)((function(){if(o){console.log("tracks",o);var e,a=function(e,a){if(!y.containsID(e.id,t)){var c=e.metadata,s=!1,i=!0;if(e.image&&(i=!1,e.metadata)){var r={_id:e.id,name:e.title,src:e.image,song:e.metadata,type:a};"object"===typeof e.artist?r.artist=e.artist.name:r.artist=e.artist,e.album&&(r.album=e.album),y.containsExactObject(r,t)||n(r)}i&&c&&(c.indexOf("ipfs")>-1&&(c="https://ipfs.io/"+e.metadata,s=!0),fetch(c).then((function(e){return e.json()})).then((function(c){var i=c.image,r=c.animation_url;s&&(i=y.format_src(c.image),r=y.format_src(c.animation_url));var o={_id:e.id,name:c.name,src:i,song:r,type:a};"object"===typeof e.artist?o.artist=e.artist.name:o.artist=e.artist,e.album&&(o.album=e.album),y.containsExactObject(o,t)||n(o)})).catch((function(e){console.error(e)})))}},c=Object(O.a)(o.tracks);try{for(c.s();!(e=c.n()).done;){a(e.value,"song")}}catch(r){c.e(r)}finally{c.f()}var s,i=Object(O.a)(o.podcasts);try{for(i.s();!(s=i.n()).done;){a(s.value,"podcast")}}catch(r){i.e(r)}finally{i.f()}}}),[o]);var j=Object(a.useMemo)((function(){return c?Object(u.jsx)(k,{metadata:c,style:{display:"none"},global:!0}):null}),[c]);return Object(u.jsx)(p.a,{children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(te,{}),Object(u.jsxs)("div",{style:me,children:[Object(u.jsx)(q,{}),l&&Object(u.jsx)("p",{style:ge,children:"Loading..."}),d&&Object(u.jsx)("p",{style:ge,children:"Failed to load tracks, please try again."}),Object(u.jsx)(f.a,{path:"/",exact:!0,component:ne}),Object(u.jsx)(f.a,{path:"/explore",component:ae}),Object(u.jsx)(f.a,{path:"/podcast",component:ce}),Object(u.jsx)(f.a,{path:"/library",component:se}),Object(u.jsx)(f.a,{path:"/musicPass",component:je}),Object(u.jsx)(f.a,{path:"/myPass",component:be}),j]}),Object(u.jsx)(le,{})]})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,775)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},pe=new g.a({url:"https://api.thegraph.com/subgraphs/name/defiville/pirate-radio-tracks"});i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{children:Object(u.jsx)(h.a,{value:pe,children:Object(u.jsx)(he,{})})})}),document.getElementById("root")),Oe()}},[[769,1,2]]]);
//# sourceMappingURL=main.83eda2a6.chunk.js.map