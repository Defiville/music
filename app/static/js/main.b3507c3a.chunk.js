(this.webpackJsonpniftymusic=this.webpackJsonpniftymusic||[]).push([[0],{317:function(e,t,n){},337:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},373:function(e,t){},381:function(e,t){},398:function(e,t){},400:function(e,t){},417:function(e,t){},418:function(e,t){},479:function(e,t){},481:function(e,t){},490:function(e,t){},492:function(e,t){},517:function(e,t){},519:function(e,t){},520:function(e,t){},525:function(e,t){},527:function(e,t){},540:function(e,t){},552:function(e,t){},555:function(e,t){},559:function(e,t){},571:function(e,t){},629:function(e,t){},702:function(e,t){},775:function(e,t){},788:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(320),i=n.n(s),r=n(21),o=n(80),l=n(12),d=function(e,t){switch(t.type){case"UPDATE_PROVIDER":return Object(l.a)(Object(l.a)({},e),{},{provider:t.payload});case"UPDATE_SONGS":return Object(l.a)(Object(l.a)({},e),{},{songs:t.payload});case"UPDATE_CURRENT_SONG":return Object(l.a)(Object(l.a)({},e),{},{currentSong:t.payload});case"UPDATE_CURRENT_SONG_ID":return Object(l.a)(Object(l.a)({},e),{},{currentSongID:t.payload});case"UPDATE_PLAYING":return Object(l.a)(Object(l.a)({},e),{},{playing:t.payload});case"ADD_TRACK":return Object(l.a)(Object(l.a)({},e),{},{tracks:[].concat(Object(o.a)(e.tracks),[t.payload])});case"UPDATE_SEARCH_STRING":return Object(l.a)(Object(l.a)({},e),{},{searchString:t.payload});case"UPDATE_GLOBAL_ARTIST_MODAL_DATA":return Object(l.a)(Object(l.a)({},e),{},{globalArtistModalData:t.payload});default:return e}},u=n(0),j={provider:null,songs:null,currentSong:0,currentSongID:null,playing:0,tracks:[],searchString:"",globalArtistModalData:null},b=Object(a.createContext)(j),m=function(e){var t=e.children,n=Object(a.useReducer)(d,j),c=Object(r.a)(n,2),s=c[0],i=c[1];var o={provider:s.provider,setProvider:function(e){i({type:"UPDATE_PROVIDER",payload:e})},songs:s.songs,setSongs:function(e){i({type:"UPDATE_SONGS",payload:e})},currentSong:s.currentSong,setCurrentSong:function(e){i({type:"UPDATE_CURRENT_SONG",payload:e})},currentSongID:s.currentSongID,setCurrentSongID:function(e){i({type:"UPDATE_CURRENT_SONG_ID",payload:e})},playing:s.playing,setPlaying:function(e){i({type:"UPDATE_PLAYING",payload:e})},tracks:s.tracks,addTrack:function(e){i({type:"ADD_TRACK",payload:e})},searchString:s.searchString,setSearchString:function(e){i({type:"UPDATE_SEARCH_STRING",payload:e})},globalArtistModalData:s.globalArtistModalData,setGlobalArtistModalData:function(e){i({type:"UPDATE_GLOBAL_ARTIST_MODAL_DATA",payload:e})}};return Object(u.jsx)(b.Provider,{value:o,children:t})},g=n(116),h=n(117),p=(n(337),n(35)),O=n(79),f=n(25),x=n(178),v=n.n(x),y=n(321),S=n.n(y),_=n(179),C=n.n(_),N={format_src:function(e){return"https://ipfs.io/"+e.substring("ipfs://".length)},containsExactObject:function(e,t){var n;for(n=0;n<t.length;n++)if(C.a.isEqual(e,t[n]))return!0;return!1},containsID:function(e,t){var n;for(n=0;n<t.length;n++)if(e===t[n]._id)return!0;return!1},_:C.a},w=n.p+"static/media/back-arrow.2110c78d.svg",E=n(121),T=n.p+"static/media/play.171cccd4.svg",k=n.p+"static/media/pause.62fc3c4c.svg",D=function(e,t){return E.a.create({tileContainer:{width:e,display:"flex",flexDirection:t>2?"column":"row",justifyContent:"flex-start",alignItems:t>2?void 0:"center",marginBottom:t>2?"2em":"1em",paddingRight:"2em","@media (max-width: 768px)":{width:"50%",flexDirection:"column",alignItems:"center",marginBottom:"2em",paddingRight:0}},details:{marginLeft:t>2?0:"1em",marginTop:t>2?"1em":0,"@media (max-width: 768px)":{marginLeft:0},":nth-child(n) > p":{"@media (max-width: 768px)":{textAlign:"center"}}}})},P=function(e){var t=e.tileHeight,n=e.song,c=e.tilesPerRow,s=void 0===c?2:c,i=e.playlist,o=e.index,l=void 0===o?0:o,d=Object(a.useContext)(b),j=d.setSongs,m=d.setCurrentSong,g=d.setPlaying,h=d.playing,p=d.currentSongID,O=Object(a.useState)(!1),f=Object(r.a)(O,2),x=f[0],v=f[1],y=100/s+"%",S={height:t,width:t,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},_={height:"100%",width:"100%",position:"relative",zIndex:"0",opacity:x?"0.75":"1"},C={height:.25*Number(t.substring(0,t.indexOf("em")))+"em",backgroundColor:"transparent",padding:0,position:"absolute",zIndex:"1",cursor:"pointer"},N={};s>2&&(N.marginBottom="0.5em");var w={marginLeft:"1em"};s>2&&(w.marginLeft=0,w.marginTop="1em");var P=1===h&&p===n._id?k:T,A=D(y,s);return Object(u.jsxs)("div",{className:Object(E.b)(A.tileContainer),children:[Object(u.jsxs)("div",{style:S,onClick:function(e){e.stopPropagation(),2===h&&p===n._id?g(1):1===h&&p===n._id?g(2):(g(1),m(l),j(i||[n]))},children:[Object(u.jsx)("img",{style:_,src:n.src,alt:"",onMouseOver:function(){return v(!0)},onMouseLeave:function(){return v(!1)}}),x&&Object(u.jsx)("div",{style:C,onMouseEnter:function(){return v(!0)},children:Object(u.jsx)("img",{style:{height:"100%",width:"auto"},src:P,alt:""})})]}),Object(u.jsxs)("div",{className:Object(E.b)(A.details),children:[Object(u.jsx)("p",{style:N,children:n.name}),Object(u.jsx)("p",{style:{color:"#62728E"},children:n.artist})]})]})},A=n(322),I=(n(360),function(e){var t=e.onClose,n=e.metadata,c=e.global,s=void 0!==c&&c,i=Object(a.useContext)(b),o=i.setSongs,d=i.setCurrentSong,j=i.playing,m=i.setPlaying,g=i.currentSongID,h=i.setGlobalArtistModalData,p=Object(a.useState)("auto"),O=Object(r.a)(p,2),f=O[0],x=O[1];Object(a.useEffect)((function(){var e=function(){x(document.getElementById("navbar").offsetHeight)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var v=function(e){2===j&&g===n.songs[e]._id?m(1):1===j&&g===n.songs[e]._id?m(2):(m(1),d(e),o(n.songs))},y={opacity:.5,padding:0,backgroundColor:"transparent"},S=Object(a.useMemo)((function(){for(var e=[],t=function(t){var a=1===j&&g===n.songs[t]._id?k:T;e.push({play:Object(u.jsx)("button",{style:y,onClick:function(){return v(t)},children:Object(u.jsx)("img",{src:a,alt:"",width:"12px"})}),title:n.songs[t].name,artist:n.songs[t].artist,album:n.songs[t].album})},a=0;a<n.songs.length;a++)t(a);return e}),[g,j]),_=Object(a.useMemo)((function(){return[{Header:"",accessor:"play"},{Header:"SONG TITLE",accessor:"title"},{Header:"ARTIST",accessor:"artist"},{Header:"ALBUM",accessor:"album"}]}),[]),C=Object(A.useTable)({columns:_,data:S}),N=C.getTableProps,E=C.getTableBodyProps,D=C.headerGroups,P=C.rows,I=C.prepareRow,M={top:f};return Object(u.jsxs)("div",{className:"modal",style:M,children:[Object(u.jsx)("div",{className:"modal_header",children:Object(u.jsxs)("button",{className:"close_btn",onClick:function(){if(s)return h(null);t()},children:[Object(u.jsx)("img",{src:w,alt:""}),"Back"]})}),Object(u.jsxs)("div",{className:"modal_content",children:[Object(u.jsx)("img",{className:"image",src:n.image,alt:""}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:n.name}),Object(u.jsx)("h3",{children:n.artist}),Object(u.jsxs)("button",{onClick:function(){return v(0)},children:[Object(u.jsx)("img",{src:T,alt:""}),"Play all"]})]}),Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},N()),{},{className:"table",children:[Object(u.jsx)("thead",{children:D.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},E()),{},{children:P.map((function(e){return I(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})]})}),M=function(e){var t=e.tileHeight,n=void 0===t?"14em":t,c=e.data,s=e.globalOpen,i=void 0!==s&&s,o=Object(a.useContext)(b),l=o.setSongs,d=o.setCurrentSong,j=o.setPlaying,m=o.playing,g=o.currentSongID,h=o.setSearchString,O=o.setGlobalArtistModalData,f=Object(a.useState)(!1),x=Object(r.a)(f,2),v=x[0],y=x[1],S=Object(a.useState)(!1),_=Object(r.a)(S,2),C=_[0],N=_[1],w=Object(a.useMemo)((function(){var e,t=!1,n=Object(p.a)(c.songs);try{for(n.s();!(e=n.n()).done;){e.value._id===g&&(t=!0)}}catch(a){n.e(a)}finally{n.f()}return t}),[g]),E={width:n,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginRight:"2em",cursor:"pointer"},D={height:n,width:n,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"0.5em"},P={height:"100%",width:"100%",position:"relative",zIndex:"0",opacity:v?"0.75":"1"},A={height:.25*Number(n.substring(0,n.indexOf("em")))+"em",backgroundColor:"transparent",padding:0,position:"absolute",zIndex:"1",cursor:"pointer"},M=1===m&&w?k:T;return Object(u.jsxs)("div",{style:E,children:[Object(u.jsxs)("div",{style:D,onClick:function(){y(!1),i?(h(""),O(c)):C||N(!0)},children:[Object(u.jsx)("img",{style:P,src:c.image,alt:"",onMouseOver:function(){return y(!0)},onMouseLeave:function(){return y(!1)}}),v&&Object(u.jsx)("div",{style:A,onMouseEnter:function(){return y(!0)},children:Object(u.jsx)("img",{style:{height:"100%",width:"auto"},src:M,alt:"",onClick:function(e){e.stopPropagation(),2===m&&w?j(1):1===m&&w?j(2):(j(1),d(0),l(c.songs))}})}),C&&Object(u.jsx)(I,{onClose:function(){i||C&&N(!1)},metadata:c})]}),Object(u.jsx)("p",{style:{color:"#62728E",textAlign:"center"},children:c.name})]})},R=(n(361),function(e){var t=e.search_string,n=Object(a.useContext)(b),c=n.tracks,s=n.setSearchString,i=Object(a.useState)("auto"),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(a.useMemo)((function(){var e={artists:{},singles:[],podcasts:[]},n=function(e){return e?e=(e=(e=e.replace("-","")).replace(".","")).toUpperCase():e};if(t.length>1){var a,s=n(t),i=Object(p.a)(c);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.artist||(r.artist="Unknown"),n(r.artist).indexOf(s)>-1&&(r.artist in e.artists?N.containsExactObject(r,e.artists[r.artist].songs)||e.artists[r.artist].songs.push(r):e.artists[r.artist]={name:r.artist,image:r.src,songs:[r]});var o=n(r.name);o.indexOf(s)>-1&&"song"===r.type&&e.singles.push(r),o.indexOf(s)>-1&&"podcast"===r.type&&e.podcasts.push(r)}}catch(l){i.e(l)}finally{i.f()}}return e}),[t,c]);Object(a.useEffect)((function(){var e=function(){d(document.getElementById("navbar").offsetHeight)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var m={top:l},g=j.singles.map((function(e){return Object(u.jsx)(P,{tileHeight:"5em",song:e},e._id)})),h=Object.keys(j.artists).map((function(e){return Object(u.jsx)(M,{tileHeight:"10em",data:j.artists[e],globalOpen:!0},e)})),O=j.podcasts.map((function(e){return Object(u.jsx)(P,{tileHeight:"5em",song:e},e._id)}));return Object(u.jsxs)("div",{className:"search_modal",style:m,children:[Object(u.jsx)("div",{className:"search_modal_header",children:Object(u.jsxs)("button",{className:"close_btn",onClick:function(){s("")},children:[Object(u.jsx)("img",{src:w,alt:""}),"Back"]})}),Object(u.jsxs)("div",{className:"search_modal_content",children:[Object(u.jsx)("h3",{children:"Search Results"}),Object(u.jsxs)("div",{className:"singles_grid",children:[j.singles.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Songs"}),g]}),!!Object.keys(j.artists).length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Artists"}),h]}),j.podcasts.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Podcasts"}),O]})]})]})]})}),L=n(323),B=n.n(L),F=n(327),H=n.n(F),U=n(328),G=n.n(U),z=n.p+"static/media/user.126de776.svg",q=n.p+"static/media/times.82a5f87a.svg",W={border:"2px solid #303847",color:"#62728E",padding:"0.45em 1.5em 0.45em 1em",borderRadius:"8px 0 0 8px",marginRight:"-0.5em"},V={backgroundColor:"transparent",color:"#FFFFFF",paddingRight:0},J={paddingRight:"0.5em",height:"1em",width:"auto"},K=function(){var e=Object(a.useContext)(b),t=e.provider,n=e.setProvider,c="Connect Wallet",s="Fetching...",i="Wrong Network",o=Object(a.useState)(c),l=Object(r.a)(o,2),d=l[0],j=l[1],m=Object(a.useState)(s),g=Object(r.a)(m,2),h=g[0],p=g[1],O=Object(a.useState)(null),f=Object(r.a)(O,2),x=f[0],v=f[1],y=Object(a.useState)(!1),S=Object(r.a)(y,2),_=S[0],C=S[1],N={walletconnect:{display:{name:"WalletConnect",description:"Scan the QR code with your mobile wallet to connect."},package:G.a,options:{infuraId:"c91abd5028e84b1c9001abd007b3e258"}}},w=new H.a({network:"mainnet",cacheProvider:!0,providerOptions:N,theme:{background:"rgb(39, 49, 56)",main:"rgb(199, 199, 199)",secondary:"rgb(136, 136, 136)",border:"rgba(195, 195, 195, 0.14)",hover:"rgb(16, 26, 32)"}});Object(a.useEffect)((function(){"injected"===w.cachedProvider&&n(window.ethereum)}),[]);var E=function e(){if(t){var n=new B.a(t),a=function(){_||(C(!0),v(setTimeout((function(){C(!1),e()}),1500)))};"1"===t.networkVersion?n.eth.getAccounts().then((function(e){if(e.length>0){var t=e[0].substr(0,4)+"..."+e[0].substr(e[0].length-4);j(t),n.eth.getBalance(e[0]).then((function(e){var t=Number(n.utils.fromWei(e)).toFixed(3);p(t+" ETH"),a()}),(function(e){console.error(e),p("Failed"),a()}))}else j(c),p(s),a()}),(function(e){console.error(e),a()})):(j(i),p(s),a())}};Object(a.useEffect)((function(){if(null===t)return j(c),p(s);E()}),[t]);var T=d===c,k=d===i,D={backgroundColor:T?"#00C8D4":k?"#FE4141":"#303847",color:T||k?"#FFFFFF":"#62728E",cursor:T?"pointer":"default",borderRadius:"8px"};return Object(u.jsxs)("div",{children:[!T&&!k&&Object(u.jsx)("span",{style:W,children:h}),Object(u.jsxs)("button",{style:D,onClick:function(){d===c&&w.connect().then((function(e){n(e)}),(function(e){console.error(e),w.clearCachedProvider(),v(clearTimeout(x)),C(!1),n(null)}))},children:[!T&&!k&&Object(u.jsx)("img",{style:J,src:z,alt:""}),d]}),!T&&Object(u.jsx)("button",{style:V,onClick:function(){w.clearCachedProvider(),v(clearTimeout(x)),C(!1),n(null)},children:Object(u.jsx)("img",{src:q,alt:""})})]})},Y=n.p+"static/media/magnify.3c1c3235.svg",Q=(n(788),function(){var e=Object(a.useContext)(b),t=e.searchString,n=e.setSearchString;return Object(u.jsxs)("div",{className:"navbar",id:"navbar",children:[Object(u.jsxs)("div",{className:"search-cont",children:[Object(u.jsx)("img",{src:Y,alt:""}),Object(u.jsx)("input",{placeholder:"Search for songs, artists etc.",value:t,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("div",{className:"navbar-right",children:[Object(u.jsx)(O.b,{to:"/musicPass",className:"btn-navbar",children:"Music Pass"}),Object(u.jsx)(K,{})]}),t&&Object(u.jsx)(R,{search_string:t})]})}),X=n.p+"static/media/home.1b76e15b.svg",Z=n.p+"static/media/home-focus.ce32ea31.svg",$=n.p+"static/media/explore.ffac5b3c.svg",ee=n.p+"static/media/explore-focus.cddb4b9e.svg",te=n.p+"static/media/podcast.5d382983.svg",ne=n.p+"static/media/podcast-focus.a06cf377.svg",ae=n.p+"static/media/library.3f99650c.svg",ce=n.p+"static/media/library-focus.9b10c597.svg",se=(n(317),function(e){var t=Object(f.e)(),n={color:t.pathname===e.location?"#00C8D4":"#62728E",paddingLeft:"5px"},a={Home:t.pathname===e.location?Z:X,Explore:t.pathname===e.location?ee:$,Podcast:t.pathname===e.location?ne:te,Library:t.pathname===e.location?ce:ae};return Object(u.jsx)(O.b,{to:e.location,style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"sideBtnDiv",children:[Object(u.jsx)("img",{src:a[e.text],alt:""}),Object(u.jsx)("span",{style:n,children:e.text})]})})}),ie=n.p+"static/media/logo.23731195.svg",re=function(){return Object(u.jsxs)("div",{className:"sidebar-wrapper",children:[Object(u.jsx)("img",{className:"logo",src:ie,alt:""}),Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)(se,{text:"Home",location:"/app"}),Object(u.jsx)(se,{text:"Explore",location:"/explore"}),Object(u.jsx)(se,{text:"Podcast",location:"/podcast"})]})]})},oe=(n(796),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e={artists:{},singles:[]},n=t.slice(0,8);N._.isEqual(e.singles,n)||(e.singles=n);var a,c=1,s=Object(p.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;(c<=5||i.artist in e.artists)&&"song"===i.type&&(i.artist in e.artists?N.containsExactObject(i,e.artists[i.artist].songs)||e.artists[i.artist].songs.push(i):(e.artists[i.artist]={name:i.artist,image:i.src,songs:[i]},c++))}}catch(r){s.e(r)}finally{s.f()}return e}),[t]),s=Object.keys(c.artists).map((function(e){return Object(u.jsx)(M,{tileHeight:"14em",data:c.artists[e]},e)})),i=c.singles.map((function(e){return Object(u.jsx)(P,{tileHeight:"5em",song:e},e._id)})),r={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"home",style:r,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Recommended Artists"})}),Object(u.jsx)("div",{className:"album_grid",children:s}),Object(u.jsxs)("div",{className:"singles_grid",children:[Object(u.jsx)("h2",{children:"Top Singles"}),i]})]})})}),le=(n(797),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e,n=[],a=function(e){for(var t,n=Object(o.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var c=[n[t],n[a]];n[a]=c[0],n[t]=c[1]}return n}(t),c=0,s=Object(p.a)(a);try{for(s.s();!(e=s.n()).done;){var i=e.value;"song"===i.type&&(i.index=c,c++,n.push(i))}}catch(r){s.e(r)}finally{s.f()}return n}),[t]),s=c.map((function(e){return Object(u.jsx)(P,{tileHeight:"12em",song:e,tilesPerRow:5,playlist:c,index:e.index},e._id)})),i={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"explore",style:i,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Explore"})}),Object(u.jsx)("div",{className:"explore_grid",children:s})]})})}),de=(n(798),function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.playing,c=Object(a.useMemo)((function(){var e,n=[],a=function(e){for(var t,n=Object(o.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var c=[n[t],n[a]];n[a]=c[0],n[t]=c[1]}return n}(t),c=0,s=Object(p.a)(a);try{for(s.s();!(e=s.n()).done;){var i=e.value;"podcast"===i.type&&(i.index=c,c++,n.push(i))}}catch(r){s.e(r)}finally{s.f()}return n}),[t]),s=c.map((function(e){return Object(u.jsx)(P,{tileHeight:"12em",song:e,tilesPerRow:5,playlist:c,index:e.index},e._id)})),i={paddingBottom:0!==n?document.getElementById("play_modal").offsetHeight+32:0};return Object(u.jsx)("div",{className:"podcast",style:i,children:t.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Podcasts"})}),Object(u.jsx)("div",{className:"podcast_grid",children:s})]})})}),ue=n(100),je=(n(800),n.p+"static/media/forward.34ceb933.svg"),be=n.p+"static/media/mute.a939919a.svg",me=function(){var e=Object(a.useContext)(b),t=e.songs,n=e.currentSong,c=e.setCurrentSong,s=e.playing,i=e.setPlaying,o=e.setCurrentSongID,d=Object(a.useState)([0]),j=Object(r.a)(d,2),m=j[0],g=j[1],h=Object(a.useState)(!1),p=Object(r.a)(h,2),O=p[0],f=p[1],x=Object(a.useState)(null),v=Object(r.a)(x,2),y=v[0],S=v[1],_=Object(a.useState)(100),C=Object(r.a)(_,2),N=C[0],w=C[1],E=Object(a.useState)(!1),D=Object(r.a)(E,2),P=D[0],A=D[1],I=Object(a.useState)([1]),M=Object(r.a)(I,2),R=M[0],L=M[1],B=document.getElementById("player");Object(a.useEffect)((function(){null!==t&&(function(e){var t=document.createElement("audio");t.autoPlay=!1,t.src=e}(t[n].song),S(t[n].song),o(t[n]._id),function(){g([0]);var e=0;document.getElementById("song_source").addEventListener("error",(function t(){e<=4?(e++,setTimeout((function(){B.load()}),1e3)):(e=0,document.getElementById("song_source").removeEventListener("error",t),F())})),B.load(),B.oncanplay=function(){if(A(!0),w(B.duration),B.volume=R[0],B.ontimeupdate=function(){g([B.currentTime])},B.onplay=function(){i(1)},B.onpause=function(){i(2)},B.onended=function(){i(1),F()},1===s&&(B.play(),"mediaSession"in navigator)){navigator.mediaSession.metadata=new window.MediaMetadata({title:t[n].name,artist:t[n].artist,artwork:[{src:t[n].src,type:"image/png"}]});for(var e=0,a=[["previoustrack",function(){H()}],["nexttrack",function(){F()}],["stop",function(){f(!0),B.paused&&i(0)}]];e<a.length;e++){var c=Object(r.a)(a[e],2),o=c[0],l=c[1];try{navigator.mediaSession.setActionHandler(o,l)}catch(d){console.log('The media session action "'.concat(o,'" is not supported yet.'))}}}}}())}),[t,n]),Object(a.useEffect)((function(){O&&1!==s?(i(0),o(null)):1===s&&O?(f(!1),P&&(B.currentTime=0,g([0]),B.paused&&B.play())):1!==s||O?2!==s||O||P&&(B.paused||B.pause()):P&&B.paused&&B.play()}),[s]);var F=function(){var e=n+1;e<t.length?c(e):c(0)},H=function(){var e=n-1;P&&(-1!==e&&B.currentTime<5?c(e):(g([0]),B.currentTime=0))},U=function(e){var t=Math.trunc(e/60),n=Math.trunc(e%60);return n<10&&(n="0"+n),t+":"+n},G={display:0===s?"none":"flex"},z=1===s?k:T;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"play_modal",className:"play_modal",style:G,children:[t&&Object(u.jsxs)("div",{className:"song_data",children:[Object(u.jsx)("img",{src:t[n].src,alt:""}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:t[n].name}),Object(u.jsx)("p",{children:t[n].artist})]})]}),Object(u.jsxs)("div",{className:"controls_wrapper",children:[Object(u.jsxs)("div",{className:"main_control",children:[Object(u.jsx)("button",{onClick:H,children:Object(u.jsx)("img",{src:je,alt:""})}),Object(u.jsx)("button",{onClick:function(){P&&(B.paused?B.play():B.pause())},children:Object(u.jsx)("img",{src:z,alt:""})}),Object(u.jsx)("button",{onClick:F,children:Object(u.jsx)("img",{src:je,alt:""})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"time_tracker",children:U(m[0])}),Object(u.jsx)(ue.Range,{values:m,step:.001,min:0,max:N,onChange:function(e){g([e[0]]),P&&(B.currentTime=e[0])},renderTrack:function(e){var t=e.props,n=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,className:"timebar",children:Object(u.jsx)("div",{ref:t.ref,style:{height:"0.25em",width:"100%",borderRadius:"4px",display:"inline-block",background:Object(ue.getTrackBackground)({values:m,colors:["#00C8D4","#0F141D"],min:0,max:N}),alignSelf:"center"},children:n})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(u.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{height:"0.75em",width:"0.75em",borderRadius:"13px",backgroundColor:"#00C8D4",display:"flex",justifyContent:"center",alignItems:"center"})}))}}),Object(u.jsx)("div",{className:"time_tracker",children:U(N)})]})]}),Object(u.jsxs)("div",{className:"volume_control",children:[Object(u.jsx)("button",{className:"mute_button",onClick:function(){P&&(B.muted?L([B.volume]):L([0]),B.muted=!B.muted)},children:Object(u.jsx)("img",{src:be,alt:""})}),Object(u.jsx)(ue.Range,{values:R,step:.01,min:0,max:1,onChange:function(e){var t=e[0];L([t]),P&&(t>0&&B.muted&&(B.muted=!1),B.volume=t)},renderTrack:function(e){var t=e.props,n=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(l.a)(Object(l.a)({},t.style),{},{height:"0.25em",display:"flex",width:"5em"}),children:Object(u.jsx)("div",{ref:t.ref,style:{height:"0.25em",width:"100%",borderRadius:"4px",background:Object(ue.getTrackBackground)({values:R,colors:["#00C8D4","#0F141D"],min:0,max:1}),alignSelf:"center"},children:n})})},renderThumb:function(e){var t=e.props;return Object(u.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{display:"none"})}))}})]})]}),Object(u.jsx)("video",{style:{display:"none"},id:"player",children:Object(u.jsx)("source",{id:"song_source",src:y,type:"video/mp4"})})]})},ge=(n(801),n.p+"static/media/music-pass.61a16a6a.png"),he=n.p+"static/media/golden-pass.86ef5316.png",pe=function(){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)("h1",{children:"Buy Music Pass"}),Object(u.jsx)("h3",{children:"Enjoy free music listening, exclusive content and more."}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"card-container",children:[Object(u.jsx)("img",{className:"music-pass",src:ge,alt:""}),Object(u.jsx)("p",{children:"All access pass"}),Object(u.jsx)("p",{className:"small",children:"Recharge your pass as much as you want."}),Object(u.jsx)("h5",{children:"200/200 left"}),Object(u.jsx)("button",{className:"btn-buy",children:"Coming soon"})]}),Object(u.jsxs)("div",{className:"card-container",children:[Object(u.jsx)("img",{className:"golden-pass",src:he,alt:""}),Object(u.jsx)("p",{children:"Lifetime pass"}),Object(u.jsx)("p",{className:"small",children:"Listen to every song, forever without limits."}),Object(u.jsx)("h5",{children:"50/50 left"}),Object(u.jsx)("button",{className:"btn-buy",children:"Coming soon"})]})]})]})},Oe=(n(802),function(){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)("h1",{children:"My Music Pass"}),Object(u.jsx)("h3",{children:"Manage and top-up your Music Pass."}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("p",{children:"Balance:"}),Object(u.jsx)("input",{type:"number",placeholder:"Top up amount"}),Object(u.jsx)("button",{className:"btn-buy",children:"TOPUP"}),Object(u.jsx)("button",{className:"btn-buy btn-outline",children:"Buy more ISLA"})]})})]})});S()(v.a,{retries:3,retryDelay:function(e){return console.log("retry attempt: ".concat(e)),1e3*e},retryCondition:function(e){return 503===e.response.status}});var fe=function(e){(new Image).src=e},xe={width:"100%",height:"100%"},ve={width:"100%",paddingTop:"1em",paddingLeft:"0.75em"},ye=function(){var e=Object(a.useContext)(b),t=e.tracks,n=e.addTrack,c=e.globalArtistModalData,s=Object(h.b)({query:"\n      query {\n        tracks {\n            id,\n            artist {\n                name\n            },\n\t\t\talbum,\n            metadata,\n            image,\n            title\n        }\n        podcasts {\n            id,\n            artist,\n            metadata,\n            image,\n            title\n        }\n      }\n    "}),i=Object(r.a)(s,1)[0],o=i.data,l=i.fetching,d=i.error;Object(a.useEffect)((function(){if(o){console.log("tracks",o);var e,a=function(e,a){if(!N.containsID(e.id,t)){var c=e.metadata,s=!1,i=!0;if(e.image&&(i=!1,fe(e.image),e.metadata)){var r={_id:e.id,name:e.title,src:e.image,song:e.metadata,type:a};"object"===typeof e.artist?r.artist=e.artist.name:r.artist=e.artist,e.album&&(r.album=e.album),N.containsExactObject(r,t)||n(r)}i&&c&&(c.indexOf("ipfs")>-1&&(c="https://ipfs.io/"+e.metadata,s=!0),v.a.get(c).then((function(c){var i=c.data,r=i.image,o=i.animation_url;s&&(r=N.format_src(i.image),o=N.format_src(i.animation_url)),fe(r);var l={_id:e.id,name:i.name,src:r,song:o,type:a};"object"===typeof e.artist?l.artist=e.artist.name:l.artist=e.artist,e.album&&(l.album=e.album),N.containsExactObject(l,t)||n(l)})).catch((function(e){console.error(c,e)})))}},c=Object(p.a)(o.tracks);try{for(c.s();!(e=c.n()).done;){a(e.value,"song")}}catch(r){c.e(r)}finally{c.f()}var s,i=Object(p.a)(o.podcasts);try{for(i.s();!(s=i.n()).done;){a(s.value,"podcast")}}catch(r){i.e(r)}finally{i.f()}}}),[o]);var j=Object(a.useMemo)((function(){return c?Object(u.jsx)(I,{metadata:c,style:{display:"none"},global:!0}):null}),[c]);return Object(u.jsx)(O.a,{children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(re,{}),Object(u.jsxs)("div",{style:xe,children:[Object(u.jsx)(Q,{}),l&&Object(u.jsx)("p",{style:ve,children:"Loading..."}),d&&Object(u.jsx)("p",{style:ve,children:"Failed to load tracks, please try again."}),Object(u.jsx)(f.a,{path:"/app",exact:!0,component:oe}),Object(u.jsx)(f.a,{path:"/explore",component:le}),Object(u.jsx)(f.a,{path:"/podcast",component:de}),Object(u.jsx)(f.a,{path:"/musicPass",component:pe}),Object(u.jsx)(f.a,{path:"/myPass",component:Oe}),j]}),Object(u.jsx)(me,{})]})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,809)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},_e=new g.a({url:"https://api.thegraph.com/subgraphs/name/defiville/pirate-radio-tracks"});i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{children:Object(u.jsx)(h.a,{value:_e,children:Object(u.jsx)(ye,{})})})}),document.getElementById("root")),Se()}},[[803,1,2]]]);
//# sourceMappingURL=main.b3507c3a.chunk.js.map